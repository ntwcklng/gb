document.addEventListener("DOMContentLoaded",function(){(function(){var e=true,t=localStorage,n,r,a,s,o;r={maxPostReload:5,maxIndexPosts:10},slice=Array.prototype.slice;$=function(e,t){var n=typeof e==="string"?(t||document).querySelector(e):e||null;return n||document.createElement("div")};$$=function(e,t){return slice.call((t||document).querySelectorAll(e))};appendModal=function(e,t,n){n=n||"success";var r=$(".wrap-modal"),a=document.createElement("div");a.innerText=e;a.classList.add("modal");a.classList.add("modal-"+n);setTimeout(function(){a.classList.add("modal-show")},20);r.appendChild(a);setTimeout(function(){a.classList.remove("modal-show");setTimeout(function(){r.removeChild(a)},250)},t)};Element.prototype.addClass=function(e){_addClass=function(t){if(t.classList){t.classList.add(e)}else{t.className+=" "+e}};return _addClass(this)};Element.prototype.removeClass=function(e){_removeClass=function(t){if(t.classList){t.classList.remove(e)}else{t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}};return _removeClass(this)};Element.prototype.hide=function(){_hide=function(e){e.style.display="none"};return _hide(this)};loader=function(e){_self=$("#loading");if(e){_self.style.opacity="1";_self.style.display="block"}else{_self.style.opacity="0";_self.style.display="none"}};jumpTo=function(e){theOffset=e.getBoundingClientRect();scrolltopfix=document.body.scrollTop||document.documentElement.scrollTop;window.scrollTo(0,theOffset.top+scrolltopfix-10)};log=function(t){if(e){console.log(t)}};markActiveLinklist=function(e){$$(".linklistloop a").forEach(function(t){if(t.getAttribute("data-kat")===e){t.addClass("cat--active");setTimeout(function(){jumpTo(t)},50)}else{t.removeClass("cat--active")}})};ajax=function(e,t,n,r,a){xmlxhr=new XMLHttpRequest;try{xmlxhr.onreadystatechange=function(){if(xmlxhr.readyState==4&&xmlxhr.status==200){o=a?JSON.parse(xmlxhr.responseText):xmlxhr.responseText;r(o)}};if(t==="POST"){xmlxhr.open(t,e);xmlxhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xmlxhr.send(JSON.stringify(n))}else{xmlxhr.open(t,e);xmlxhr.send()}}catch(s){console.log("AJAX ERROR:"+s)}};checkRead=function(e,n){if(t.getItem(e)){n.addClass("is-viewed")}};router={routes:[],add:function(e,t){this.routes.push({re:e,func:t});return this},checker:function(e){for(var t in this.routes){var n=e.match(this.routes[t].re);if(n){n.shift();this.routes[t].func.apply({},n);return this}}loader(false);if($("#indexContainer")&&!e){this.parser("index","Die neuesten Beiträge",true)}},parser:function(e,t,n){$("#searchWrapper").style.display="none";markActiveLinklist(e);hashNice=e.charAt(0).toUpperCase()+e.slice(1,e.length);t=t||hashNice;loader(true);postList=$(".post--list");postContainer=$("#post--list__container");M=$("#page-heading");loadmoreButton=$("#loadmoreajax");loadmoreButton.style.display="none";M.addClass("opacity-0");M.textContent=t;postList.innerHTML="";postContainer.addClass("opacity-0");if(e==="suche"){postContainer.removeClass("opacity-0");searchRender();return}xhr=new XMLHttpRequest;xhr.onreadystatechange=function(t){if(xhr.readyState==4&&xhr.status==200){post=JSON.parse(xhr.responseText,"text/json");numCat=0;a=[];postLoopFinished=false;for(var s=0;s<post.length;s++){if(post[s].category===e||n||e==="alle"){if(numCat<r.maxIndexPosts){$(".post--list").innerHTML+=post[s].card;numCat++}a.push(post[s].card)}}$$(".post--list li").forEach(function(e,t){checkRead(e.getAttribute("data-read"),e)});loader(false);M.removeClass("opacity-0");postContainer.removeClass("opacity-0");if($$(".post--list li").length<r.maxIndexPosts){loadmoreButton.style.display="none"}else{loadmoreButton.style.display="block"}}};loadmoreButton.onclick=function(e){e.preventDefault();e.stopPropagation();postListLI=$$(".post--list li");if(n&&location.hash!="alle"){location.hash="alle"}var t=0;showDelay=function(e,t){setTimeout(function(){$$(".post--list li")[e].removeClass("displayNone")},t)};for(var s=0;s<r.maxPostReload;s++){$(".post--list").innerHTML+=a[numCat];$$(".post--list li")[numCat].addClass("displayNone");t+=100;showDelay(numCat,t);numCat++;if(!a[numCat]){loadmoreButton.style.display="none";return}}return};progressBar.style.display="block";progressBar.style.width="5%";xhr.addEventListener("progress",function(e){var t=$("#progressBar");if(e.lengthComputable){var n=Math.floor(e.loaded/e.total*100);t.style.width=n+"%";if(n===100){setTimeout(function(){t.style.display="none"},350)}}});xhr.open("GET",postJSONCache,true);xhr.send()}}})();var e=$("#SENDEN"),t=$("#form_msg"),n=$(".kontakt__form"),r=$("#loading"),a=$("#name"),s=$("#xyz"),o=$("#msg"),i="R61bXP70NEnJXC2c__cvgg";kontaktSubmit=function(){a.removeClass("form__error");s.removeClass("form__error");o.removeClass("form__error");e.style.visibility="hidden";t.innerHTML="";loader(1);[a,o,s].forEach(function(t){if(t.value===""){e.style.visibility="";t.addClass("form__error");appendModal("Unvollständige Angabe: "+t.placeholder,3e3,"error");loader(0)}});if(o.value&&a.value&&s.value){re=/\S+@\S+\.\S+/;if(!re.test(s.value)){appendModal("eMail Adresse ungültig!",2e3,"error");e.style.visibility="";loader(0);return}mail={key:i,message:{text:o.value,subject:"GLOSSBOSS Kontaktanfrage",from_email:s.value,from_name:a.value,to:[{email:"mail@glossboss.de",name:"Marvin Mieth",type:"to"}],headers:{"Reply-To":s.value}},async:false,ip_pool:"Main Pool"};ajax("https://mandrillapp.com/api/1.0/messages/send.json","POST",mail,function(t){loader(1);if(t[0].status==="sent"){e.style.visibility="hidden";appendModal("Danke für deine eMail! Wir werden so schnell wie möglich darauf antworten.",4500);loader(0)}else{appendModal("Es gab ein Problem mit unseren eMail-Server. Bitte versuch es später nochmal oder schreibe direkt an mail@glossboss.de",4e3,"error");loader(0)}},true)}};e.addEventListener("click",function(e){e.preventDefault();kontaktSubmit()});var l=$("#linklist"),c=$$("#linklist a"),u=$("#toggleMenu"),d=window.innerHeight,f=window.innerWidth,h=$$(".post--content p img"),p=$(".hamburger li:nth-child(1)"),m=$(".hamburger li:nth-child(2)"),g=$(".hamburger li:nth-child(3)"),v="230px",y=$$(".post--list li"),x=$(".dellocalStorage"),S=$(".localStorageContainer"),b=$("#sharecounter"),C=$(".showCommentsContainer"),w=$("#eastereggNavbar"),k=$("#search_reset"),T=$(".open_search"),E=$("#header-style"),L=$(".scroll-top"),j=$(".post--sharing"),M=$(".page-heading"),F=false;if(j&&navigator.userAgent.match(/(iPhone)/g)){var O=$(".share--whatsapp");O.style.display="inline-block";O.href="WhatsApp://send?text="+document.title+": "+location.href}L.addEventListener("click",function(){jumpTo(l)});(function(e,t){if(t){var n;t.addEventListener("mouseup",function(){clearTimeout(n);return false});t.addEventListener("mousedown",function(){n=window.setTimeout(function(){$$(".post--list li").forEach(function(e){e.addClass("eastereggNavbar")})},2e3)})}if(e){augenkrebs=["#ff00ff","#00ffff","#00ff00","#ffff00","#ff0000","#0000ff","#7920FF","#FD0987","#FF3300","#FF6EC7","#00FF66","#4D4DFF","#67C8FF","#7BFB2D","#AAFF00","#FF00AA","#AA00FF","#FF7F00","#228DFF","#ff6d38","#f90000","#fd8b25","#25d7fb","#7920ff","#fe51c3","#ff9072","#ff63a2","#e3e641"];w.addEventListener("click",function(){setInterval(function(){$$("*").forEach(function(e){e.style.backgroundColor=augenkrebs[Math.floor(Math.random()*(augenkrebs.length+1))]})},150)})}})(w,M);(function(e){if(e){var t=["merc-8.jpg","1mcoupe.jpg","530dteamwork.jpg","965turbo.jpg","9914s1.jpg","997cabrio.jpg","991turbos.jpg","997grau.jpg","997rot.jpg","alfagtv.jpg","audir8.jpg","audis5.jpg","bmw2002.jpg","eosschwarz.jpg","golf7gtd.jpg","lotuselise.jpg","m3csl.jpg","shelby.jpg","mclaren.jpg"];random=Math.floor(Math.random()*(t.length-1));headerImagesUrl="https://glossbossimages.s3.eu-central-1.amazonaws.com/headerimg/"+t[random];E.innerHTML="header {background: "+headerGradient+", url("+headerImagesUrl+") center 50%; background-size:cover}"}})(randomHeader);(function(){if(location.href.indexOf("/preview/")!==-1){postContent=$(".post--content");postContent.hide();pw=prompt("Passwortgeschützter Bereich");if(pw!=="marvin"){alert("Falsches Passwort.")}else{postContent.style.display="block"}}})();C.addEventListener("click",function(){var e="glossboss";(function(){var t=document.createElement("script");t.type="text/javascript";t.async=true;t.src="//"+e+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)})();C.style.display="none"});l.style.maxHeight=v;function N(){if(u.checked){l.style.maxHeight=v;g.addClass("hidden");p.addClass("rot45deg");m.addClass("rot-45deg")}else{l.style.maxHeight="0";g.removeClass("hidden");p.removeClass("rot45deg");m.removeClass("rot-45deg")}}function _(){content=$("#CONTENT");D=$("header");headerHeight=D.offsetHeight-5;scrolled=window.scrollY;content.style.margin=headerHeight+"px 0 0 0"}function H(){d=window.innerHeight;f=window.innerWidth;if(f>=750){l.style.maxHeight=v}else{N()}}H();c.forEach(function(e){anchor=e.getAttribute("href");e.setAttribute("href","/#"+anchor.slice(1,anchor.length));e.addEventListener("click",function(){u.click()})});searchRender=function(){(function(e){if(e){k.addEventListener("click",function(){$("#search-input").value="";$("#results-container").innerHTML=""})}})(k);$("#searchWrapper").style.display="block";SimpleJekyllSearch.init({searchInput:document.getElementById("search-input"),resultsContainer:document.getElementById("results-container"),dataSource:postJSONCache,searchResultTemplate:"{card}",noResultsText:'<li>Nichts passendes dabei. Hast du eine Idee für einen Artikel? <a style="text-align:center" href="mailto:mail@glossboss.de">Kontaktiere uns!</a></li>',limit:25,fuzzy:false});loader(false)};u.addEventListener("click",function(e){H()});window.addEventListener("resize",function(){H()});(function(e){if(e){try{xhr=new XMLHttpRequest;xhrSliced=new XMLHttpRequest;getSharesUrl="https://graph.facebook.com/"+window.location.href;getSharesUrlSliced=getSharesUrl.slice(0,getSharesUrl.length-1);sharesOutput="";var t=0;xhr.onreadystatechange=function(e){if(xhr.readyState==4&&xhr.status==200){getShares=JSON.parse(xhr.responseText)}};xhrSliced.onreadystatechange=function(e){if(xhrSliced.readyState==4&&xhrSliced.status==200){getSharesSliced=JSON.parse(xhrSliced.responseText)}};var n=setInterval(r,100);function r(){try{if(xhrSliced.readyState==4&&xhrSliced.status==200&&(xhr.readyState==4&&xhr.status==200)&&(getShares&&getSharesSliced)){sharesOutput="Sei der erste Glossboss der diesen Beitrag teilt!";t=(getSharesSliced.shares||0)+(getShares.shares||0);if(getSharesSliced.shares===getShares.shares)t/=2;if(t>1){sharesOutput=t+" Glossbosse haben diesen Beitrag bereits geteilt"}if(t==1){sharesOutput="Erst 1 Glossboss hat diesen Beitrag geteilt"}clearInterval(n);b.innerText=sharesOutput}}catch(e){console.log("Share Error: "+e)}}xhr.open("GET",getSharesUrl);xhr.send();xhrSliced.open("GET",getSharesUrlSliced);xhrSliced.send()}catch(a){console.error("Shares Error: "+a)}}})(b);WebFontConfig={google:{families:["Roboto::latin"]}};(function(){var e=document.createElement("script");e.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";e.type="text/javascript";e.async="true";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();var R=$("#mischungInput1"),B=$("#mischungInput2"),A=$("#mischungResult"),I=$("#mischung--highlight"),J=$$("#mischungsrechner input"),D=$("#mischung--heading"),z=$$(".mischungenpredefined");updateMischung=function(e){flascheVal=$('input[type="radio"]:checked');if(e){R.value=e.teil1;B.value=e.teil2}if(R.value&&B.value&&flascheVal.value){if(A.style.display!=="block")jumpTo(D);gesamt=parseInt(R.value)+parseInt(B.value);step=flascheVal.value/gesamt;result1=Math.round(step*R.value).toFixed(2);result2=Math.round(step*B.value).toFixed(2);result1Finish=result1.slice(0,result1.length-3);result2Finish=result2.slice(0,result2.length-3);A.style.display="block";A.style.background="#49fb35";setTimeout(function(){A.addClass("mischungsDelay");A.style.background="#fff"},100);I.innerHTML=result1Finish+"ml:"+result2Finish+"ml"}};z.forEach(function(e){e.addEventListener("click",function(){content=e.innerHTML.split(":");preDefinedvalues={teil1:content[0],teil2:content[1]};updateMischung(preDefinedvalues)})});J.forEach(function(e){e.addEventListener("change",function(){A.removeClass("mischungsDelay");updateMischung()})});router.add("allgemein",function(){router.parser("allgemein")});router.add("anleitung",function(){router.parser("anleitungen")});router.add("pflegeberichte",function(){router.parser("pflegeberichte")});router.add("tipps-tricks",function(){router.parser("tipps-tricks","Tipps & Tricks")});router.add("produkttest",function(){router.parser("produkttest")});router.add("suche",function(){router.parser("suche")});router.add("test",function(){router.parser("test","TESTSEITE!")});router.add("alle",function(){router.parser("alle","Alle Beiträge");setTimeout(function(){jumpTo($("#loadmoreajax"));$("#loadmoreajax").click()},50)});window.addEventListener("hashchange",function(){loader(true);router.checker(location.hash)});window.addEventListener("load",function(){loader(true);router.checker(location.hash)});!function P(e,t,n){function r(s,o){if(!t[s]){if(!e[s]){var i="function"==typeof require&&require;if(!o&&i)return i(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=t[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return r(n?n:t)},l,l.exports,P,e,t,n)}return t[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t){t.exports=function(){function e(e){return 200==e.status&&4==e.readyState}function t(t,n){t.onreadystatechange=function(){if(e(t))try{n(null,JSON.parse(t.responseText))}catch(r){n(r,null)}}}var n=this;n.load=function(e,n){var r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.open("GET",e,!0),t(r,n),r.send()}}},{}],2:[function(e,t){function n(){function e(e){return new RegExp(e.split("").join(".*?"),"gi")}var t=this;t.matches=function(t,n){return"string"!=typeof t?!1:(t=t.trim(),!!t.match(e(n)))}}t.exports=new n},{}],3:[function(e,t){function n(){function e(e,t){return e.toLowerCase().indexOf(t.toLowerCase())>=0}var t=this;t.matches=function(t,n){return"string"!=typeof t?!1:(t=t.trim(),e(t,n))}}t.exports=new n},{}],4:[function(e,t){t.exports=function(){function t(e,t,r){for(var a=e.get(),o=0;o<a.length&&s.length<i;o++)n(a[o],t,r);return s}function n(e,t,n){for(var r in e)if(n.matches(e[r],t)){s.push(e);break}}function r(){return o?l:c}var a=this,s=[],o=!1,i=10,l=e("./SearchStrategies/fuzzy"),c=e("./SearchStrategies/literal");a.setFuzzy=function(e){o=!!e},a.setLimit=function(e){i=parseInt(e,10)||i},a.search=function(e,n){return n?(s.length=0,t(e,n,r())):[]}}},{"./SearchStrategies/fuzzy":2,"./SearchStrategies/literal":3}],5:[function(e,t){t.exports=function(e){function t(e){return!!e&&"[object Object]"==Object.prototype.toString.call(e)}function n(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)}function r(e){return o.push(e),e}function a(e){for(var n=[],a=0;a<e.length;a++)t(e[a])&&n.push(r(e[a]));return n}var s=this,o=[];n(e)&&a(e),s.clear=function(){return o.length=0,o},s.get=function(){return o},s.put=function(e){return t(e)?r(e):n(e)?a(e):void 0}}},{}],6:[function(e,t){t.exports=function(){var e=this,t=/\{(.*?)\}/g;e.setTemplatePattern=function(e){t=e},e.render=function(e,n){return e.replace(t,function(e,t){return n[t]||e})}}},{}],7:[function(e){!function(t){"use strict";function n(){function e(){c.put(g.dataSource),f()}function t(e){u.load(e,function(t,r){t?n("failed to get JSON ("+e+")"):(c.put(r),f())})}function n(e){throw new Error("SimpleJekyllSearch --- "+e)}function r(e){for(var t=0;t<m.length;t++){var r=m[t];e[r]||n("You must specify a "+r)}}function a(e){for(var t in g)g[t]=e[t]||g[t]}function s(e){try{return e instanceof Object&&JSON.parse(JSON.stringify(e))}catch(t){return!1}}function o(){g.resultsContainer.innerHTML=""}function d(e){g.resultsContainer.innerHTML+=e}function f(){g.searchInput.addEventListener("keyup",function(e){return 0==e.target.value.length?void o():void h(i.search(c,e.target.value))})}function h(e){if(o(),0==e.length)return d(g.noResultsText);for(var t=0;t<e.length;t++)d(l.render(g.searchResultTemplate,e[t]))}var p=this,m=["searchInput","resultsContainer","dataSource"],g={searchInput:null,resultsContainer:null,dataSource:[],searchResultTemplate:'<li><a href="{url}" title="{desc}">{title}</a></li>',noResultsText:"No results found",limit:10,fuzzy:!1};p.init=function(n){r(n),a(n),s(g.dataSource)?e(g.dataSource):t(g.dataSource)}}var r=e("./Searcher"),a=e("./Templater"),s=e("./Store"),o=e("./JSONLoader"),i=new r,l=new a,c=new s,u=new o;t.SimpleJekyllSearch=new n}(window,document)},{"./JSONLoader":1,"./Searcher":4,"./Store":5,"./Templater":6}]},{},[7])});