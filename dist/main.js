"use strict";function getPosts(e){return getPostDB().then(function(t){postDB=t.filter(function(t){return"alle"===e?t.category.toLowerCase()===t.category.toLowerCase():t.category.toLowerCase()===e})})}function loadPosts(){var e=0,t=0,n=100;postDB.map(function(a,s){return e=$(".post--list li").length,(e<MAXINDEX&&t<MAXINDEX||s>=e&&t<MAXRELOAD)&&($(a.card).appendTo($POSTLIST),n+=100,t++,setTimeout(function(){$(".post--list li").eq(postsLoaded).removeClass("displayNone"),postsLoaded++},n),s===postDB.length-1&&$LOADMOREBTN.slideUp("fast")),0})}function initPostLoader(){var e=$("#kategorieSeite");e.length>0&&(loadingScreen(!0),category=e.attr("data-cat"),getPosts(category).then(function(){$LOADMOREBTN.fadeIn("slow"),$LOADMOREBTN.on("click",loadPosts),loadPosts(),loadingScreen(!1)}))}function scrollDelay(e,t){isScrolling||(isScrolling=!0,setTimeout(function(){t(),isScrolling=!1},e))}function getPostDB(){return $.getJSON("/posts.json")}function appendLatestPosts(e){var t=getPostDB();t.then(function(t){t.filter(function(t){return t.author===e}).map(function(e,t){t>=5||$autorBox.append($('<li><a href="'+e.url+'">'+e.title+"</a></li>"))})})}function loadingScreen(e){var t=$("#loading");e?t.show():t.hide()}function updateSliderMarkPos(){$sliderPosMarks.find("span").each(function(e,t){$(t).removeClass("active")}),$(".slider-position-marks span:nth-child("+(slidePos+1)+")").addClass("active")}function swapImage(){updateSliderMarkPos(),$img.fadeOut("fast",function(){$img.attr("src",sliderItems[slidePos].img),$url.attr("href",sliderItems[slidePos].url),$img.fadeIn("slow")})}function startSliderInterval(){clearInterval(sliderInt),sliderInt=setInterval(function(){nextImage()},sliderIntTime)}function prevImage(){slidePos--,slidePos<0&&(slidePos=maxSliderImages-1),swapImage(),startSliderInterval()}function nextImage(){slidePos++,slidePos===maxSliderImages&&(slidePos=0),swapImage(),startSliderInterval()}function initSlider(){$(".js-slider-images").each(function(e,t){sliderItems[e]={img:$(t).attr("src"),url:$(t).attr("data-url")},maxSliderImages++,$sliderPosMarks.append($("<span> </span>"))}),$img.attr("src",sliderItems[0].img),$url.attr("href",sliderItems[0].url),$sliderContainer.removeClass("displayNone"),startSliderInterval(),updateSliderMarkPos()}var category=null,postDB=[],postsLoaded=0,MAXRELOAD=5,MAXINDEX=15,$POSTLIST=$(".post--list"),$LOADMOREBTN=$("#loadmoreajax");$(function(){initPostLoader()});var $sideMenu=$("#sidemenu"),$fullPage=$("#fullpage"),$toggleNav=$("#mainnav"),$body=$("body"),$cookieAlert=$(".cookies-hinweis"),$cookieAccept=$("#cookies_acc"),$autorBox=$(".autor-box-moreposts"),$headerMenu=$(".header-menu"),shouldStickPos=$headerMenu.offset().top,$searchForm=$("#search_form"),isScrolling=!1,stickyNav=function(){$(window).scrollTop()>=shouldStickPos?$headerMenu.addClass("sticky"):$headerMenu.removeClass("sticky")};$(window).on("scroll",function(){scrollDelay(100,stickyNav)}),$autorBox.length>0&&appendLatestPosts($autorBox.attr("data-author"));var SideMenu={};SideMenu.close=function(){$sideMenu.removeClass("menuOut"),$fullPage.off("click",SideMenu.closeFullpage),$body.off("keydown",SideMenu.closeOnEscape),$fullPage.removeClass("opacity03"),$toggleNav.attr("aria-expanded","false"),$toggleNav.attr("aria-label","Menü"),$toggleNav.attr("aria-controls","sidemenu"),$sideMenu.attr("aria-hidden","true"),$sideMenu.attr("aria-labelledby","mainnav")},SideMenu.open=function(e){e.stopPropagation(),e.preventDefault(),$sideMenu.hasClass("menuOut")||($fullPage.addClass("opacity03"),$sideMenu.addClass("menuOut")),setTimeout(function(){$toggleNav.attr("aria-expanded","true"),$sideMenu.attr("aria-hidden","false"),$fullPage.on("click",SideMenu.closeFullpage),$body.on("keydown",SideMenu.closeOnEscape)},100)},SideMenu.closeFullpage=function(e){e.preventDefault(),SideMenu.close()},SideMenu.closeOnEscape=function(e){27===e.which&&(e.stopPropagation(),e.preventDefault(),SideMenu.close())},SideMenu.initialize=function(){SideMenu.close(),$toggleNav.on("click",SideMenu.open)},SideMenu.initialize();var prepareSearch=function(){var e=$("#searchWrapper");try{e.length>0&&($("#search-input").focus(),$("#search_reset").on("click",function(){$("#search-input").val(""),$("#results-container").html("")}),e.show(),SimpleJekyllSearch.init({templateMiddleware:function(e,t,n){return n.classList.remove("displayNone")},searchInput:document.getElementById("search-input"),resultsContainer:document.getElementById("results-container"),dataSource:postJSONCache,searchResultTemplate:"{card}",noResultsText:'<li>Nichts passendes dabei. Hast du eine Idee für einen Artikel? <a style="text-align:center" href="mailto:mail@glossboss.de">Kontaktiere uns!</a></li>',limit:25,fuzzy:!1}),location.search.length>3&&(loadingScreen(1),$.getJSON("/posts.json").then(function(){$("#search-input").val(location.search.substr(3,location.search.length));var e=document.createEvent("HTMLEvents");e.initEvent("keyup",!1,!0),document.querySelector("#search-input").dispatchEvent(e),loadingScreen(0)})))}catch(t){throw new Error(t)}};prepareSearch();var acceptCookies=function(){localStorage.getItem("GLOSSBOSS_COOKIES_ACCEPTED")||($cookieAlert.show(),$cookieAccept.on("click",function(){$cookieAlert.hide(),localStorage.setItem("GLOSSBOSS_COOKIES_ACCEPTED","1")}))};acceptCookies();var randomHeader=function(){var e=["merc-8.jpg","1mcoupe.jpg","530dteamwork.jpg","DSC00627.jpg","DSC00624.jpg","965turbo.jpg","9914s1.jpg","997cabrio.jpg","991turbos.jpg","997grau.jpg","997rot.jpg","alfagtv.jpg","audir8.jpg","audis5.jpg","bmw2002.jpg","eosschwarz.jpg","golf7gtd.jpg","lotuselise.jpg","m3csl.jpg","shelby.jpg","mclaren.jpg"];if(randomHeader){var t=$("#header-style"),n=Math.floor(Math.random()*(e.length-1)),a="https://glossbossimages.s3.eu-central-1.amazonaws.com/headerimg/"+e[n];t.html("\n        header {background: "+headerGradient+",\n        url("+a+") center 50%; background-size:cover}\n      ")}}(),addWhatsAppShareButton=function(){if($(".post--sharing")&&navigator.userAgent.match(/(iPhone)/g)){var e=$(".share--whatsapp");e.css("display","inline-block"),e.attr("href","WhatsApp://send?text="+document.title+": "+location.href)}};addWhatsAppShareButton();var addEvents=function(){$(".scroll-top").on("click",function(){$("body,html").animate({scrollTop:0},500)}),$searchForm.on("submit",function(e){e.preventDefault();var t=$("#search_input_nav").val();location.href="/suche/?q="+t}),$(".showCommentsContainer").on("click",function(){var e="glossboss",t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//"+e+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t),$(".showCommentsContainer").fadeOut("fast")})};addEvents();var part1=$("#mischungInput1"),part2=$("#mischungInput2"),result=$("#mischungResult"),resultMl=$("#mischung--highlight"),mischungInputs=$("#mischungsrechner input"),predefinedDil=$(".mischungenpredefined"),predefinedValues={},Mischungsrechner={};Mischungsrechner.initialize=function(){predefinedDil.on("click",function(){var e=$(this).html().split(":");predefinedValues={part1:e[0],part2:e[1]},part1.val(predefinedValues.part1),part2.val(predefinedValues.part2),Mischungsrechner.updateEvent()}).bind(void 0),mischungInputs.on("change",Mischungsrechner.updateEvent),mischungInputs.on("paste",Mischungsrechner.updateEvent)},Mischungsrechner.calculateDil=function(){var e=part1.val(),t=part2.val(),n=Mischungsrechner.getBottleValue(),a=parseInt(e)+parseInt(t),s=parseInt(n)/a,i=Math.round(s*e).toFixed(2),r=Math.round(s*t).toFixed(2),o=i.slice(0,i.length-3),l=r.slice(0,r.length-3);return o+"ml:"+l+"ml"},Mischungsrechner.updateOutput=function(e){result.show(),resultMl.text(e)},Mischungsrechner.getBottleValue=function(){var e=$('input[type="radio"]:checked').val()||0;return e>0?e:0},Mischungsrechner.shouldOutput=function(){var e=Mischungsrechner.getBottleValue();return part1.val()>0&&part2.val()>0&&e>0},Mischungsrechner.updateEvent=function(){var e=Mischungsrechner.shouldOutput();e&&Mischungsrechner.updateOutput(Mischungsrechner.calculateDil())},$(function(){Mischungsrechner.initialize()});var sliderItems={},slidePos=0,sliderInt=void 0,maxSliderImages=0,$img=$("#slider-item-img"),$url=$("#slider-item-a"),$sliderContainer=$(".slider"),$sliderPosMarks=$(".slider-position-marks"),sliderIntTime=5e3;$(".js-slide-prev").on("click",function(e){e.preventDefault(),prevImage()}),$(".js-slide-next").on("click",function(e){e.preventDefault(),nextImage()}),$(".slider").length>0&&initSlider();